# 自顶向下，逐步求精——洗衣机算法设计

&ensp;&ensp;&ensp;课堂上学习了“自顶向下，逐步求精”的程序设计方法，但课上听的很懵，课后对这个程序设计方法基本还是一无所知，所以课后我又查阅了很多相关的资料，对这一程序设计方法才稍微有点头绪，所以我以小白的视角对这一方法进行简单的介绍。
## 一、“自顶向下，逐步求精”的概念
&ensp;&ensp;&ensp;在我搜索资料试图理解这一方法概念的时候，先遇到了“结构化程序设计”这一名词，我认为理解它是理解“自顶向下，逐步求精”的程序设计方法的前提，那么什么是“结构化程序设计”? 其概念最早由E.W.Dijikstra在1965年提出的，是软件发展的一个重要的里程碑。它的主要观点是采用自顶向下、逐步求精及模块化的程序设计方法；使用三种基本控制结构构造程序，任何程序都可由顺序、选择、循环三种基本控制结构构造。结构化程序设计主要强调的是程序的易读性。（摘自百度）


![](https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1543688009612&di=fbd4e218bed27794bafadf35275e6626&imgtype=jpg&src=http%3A%2F%2Fimg1.imgtn.bdimg.com%2Fit%2Fu%3D1614953881%2C1266443259%26fm%3D214%26gp%3D0.jpg)


&ensp;&ensp;&ensp;“自顶而下，逐步求精”的设计方法是对要完成的任务进行分解，先对最高层次的问题进行定义、设计、编程和测试，而后再将其中一个个未解决的高层次的问题放到下一层次的细化中去解决。这样逐层、逐个地进行定义、设计、编程和测试，直到所有层次上的问题均由程序来解决，就能设计出具有层次结构的程序。  
&ensp;&ensp;&ensp;例如：从A地出发，目的地是远方的B地。那么，按照“自顶向下，逐步求精”的设计方法。首先，把这一过程分解，最高层次也就只包括三个问题：如何从A地出发、漫长的旅途如何度过、如何到达B地。其次，再去考虑下一层次的问题：什么时间、怎么从A地出发，是坐飞机，还是坐火车，或是坐高铁；漫长的旅途中怎么打发无聊的时间，是看书，或是睡觉，还是玩手机；什么时间到达B地、中转过程中乘坐什么交通工具到达B地等等需要我们去详细考虑和规划的问题。  
&ensp;&ensp;&ensp;我们在上述分析和解决问题的过程中就应用了“自顶而下，逐步求精”的设计方法。

## 二、洗衣机案例


![](https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1543688061701&di=bed4415e3e74b5b99c750edf1554026b&imgtype=0&src=http%3A%2F%2Fgss0.baidu.com%2F94o3dSag_xI4khGko9WTAnF6hhy%2Fzhidao%2Fpic%2Fitem%2Fb3b7d0a20cf431ad2b81f02c4736acaf2edd9850.jpg)


首先分析洗衣服程序的大步骤：

1）加衣物

2）选择洗衣模式，设定洗衣过程及水位

3）打开开关，开始注水，开始洗衣

4）电机转动，左右各2圈，返回时间值，当时间值=系统默认模式下的洗衣时间，停止转动

5）打开排水开关，返回水的高度，当水位为零，关闭开关

伪代码如下：

```
scanf洗衣模式，洗衣过程及水位；

while当前水位 < 设定水位：注水；
 
return 当前水位；

while时间计数 < 洗衣机系统默认的洗衣时间：电机转动：左2圈、右2圈；

return 时间值；

while当前水位 > 0：排水；

return当前水位；

End
```

